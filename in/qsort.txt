(define (qsort arr)
    (if (null? arr)
        '()
        (let (  (pivot (car arr))
                ((smaller pivot) (qsort (filter (lambda (x) (< x pivot)) (cdr arr))))
                ((greater pivot) (qsort (filter (lambda (x) (>= x pivot)) (cdr arr))))
             )
            (append (smaller pivot) (list pivot) (greater pivot))
        )
    )
)
(print (qsort (list 12 71 2 15 29 82 87 8 18 66 81 25 63 97 40 3 93 58 53 31 47)))
